<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Validation List Web Component Demo</title>
		<link rel="stylesheet" href="./styles.css" />
		<style>
			/* Component-specific validation styles */
			form-validation-list ul {
				list-style: none;
				padding-left: 0;
			}

			form-validation-list li {
				padding: 0.25rem 0;
				transition: all 0.3s ease;
			}

			/* Custom styling example */
			.custom-styled {
				--validation-icon-matched: '✅';
				--validation-icon-unmatched: '❌';
				--validation-icon-size: 1.2em;
				--validation-matched-color: #28a745;
				--validation-unmatched-color: #dc3545;
			}

			.custom-styled ul {
				background: ButtonFace;
				padding: 1rem;
				border-radius: 4px;
			}
		</style>
	</head>
	<body>
		<header>
			<h1>Validation List Web Component Demo</h1>
			<p>
				A web component comprising a list of validation rules for a
				field. See the
				<a href="../">README</a>
				for installation and API documentation.
			</p>
		</header>

		<main>
			<!-- Basic Example -->
			<section>
				<h2>Basic Password Validation</h2>
				<p>A password field with multiple validation requirements.</p>

				<div class="demo-section">
					<h3>Username Validation</h3>
					<p>
						This example validates a username with capital letters,
						lowercase letters, and numbers.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;form&gt;
  &lt;label for="username"&gt;Username:&lt;/label&gt;
  &lt;input type="text" id="username" name="username" required&gt;

  &lt;form-validation-list for="username"&gt;
    &lt;ul&gt;
      &lt;li data-pattern="[A-Z]+"&gt;At least one capital letter&lt;/li&gt;
      &lt;li data-pattern="[a-z]+"&gt;At least one lowercase letter&lt;/li&gt;
      &lt;li data-pattern="[\d]+"&gt;At least one number&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/form-validation-list&gt;

  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
						<div class="demo">
							<form id="form1">
								<label for="username">Username:</label>
								<input
									type="text"
									id="username"
									name="username"
									required
								/>

								<form-validation-list for="username">
									<ul>
										<li data-pattern="[A-Z]+">
											At least one capital letter
										</li>
										<li data-pattern="[a-z]+">
											At least one lowercase letter
										</li>
										<li data-pattern="[\d]+">
											At least one number
										</li>
									</ul>
								</form-validation-list>

								<button type="submit">Submit</button>
								<div
									id="message1"
									class="validation-message"
									style="display: none"
								></div>
							</form>
						</div>
					</div>
				</div>
			</section>

			<!-- Password Example -->
			<section>
				<h2>Strong Password Requirements</h2>
				<p>
					A more complex validation with length and special character
					requirements.
				</p>

				<div class="demo-section">
					<h3>Password Strength Validation</h3>
					<p>
						Demonstrates multiple password requirements including
						length and special characters.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;form&gt;
  &lt;label for="password"&gt;Password:&lt;/label&gt;
  &lt;input type="password" id="password" name="password" required&gt;

  &lt;form-validation-list for="password"&gt;
    &lt;ul&gt;
      &lt;li data-pattern=".{8,}"&gt;At least 8 characters&lt;/li&gt;
      &lt;li data-pattern="[A-Z]+"&gt;At least one uppercase letter&lt;/li&gt;
      &lt;li data-pattern="[a-z]+"&gt;At least one lowercase letter&lt;/li&gt;
      &lt;li data-pattern="[\d]+"&gt;At least one number&lt;/li&gt;
      &lt;li data-pattern="[!@#$%^&*]+"&gt;At least one special character (!@#$%^&*)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/form-validation-list&gt;

  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
						<div class="demo">
							<form id="form2">
								<label for="password">Password:</label>
								<input
									type="password"
									id="password"
									name="password"
									required
								/>

								<form-validation-list for="password">
									<ul>
										<li data-pattern=".{8,}">
											At least 8 characters
										</li>
										<li data-pattern="[A-Z]+">
											At least one uppercase letter
										</li>
										<li data-pattern="[a-z]+">
											At least one lowercase letter
										</li>
										<li data-pattern="[\d]+">
											At least one number
										</li>
										<li data-pattern="[!@#$%^&*]+">
											At least one special character
											(!@#$%^&*)
										</li>
									</ul>
								</form-validation-list>

								<button type="submit">Submit</button>
								<div
									id="message2"
									class="validation-message"
									style="display: none"
								></div>
							</form>
						</div>
					</div>
				</div>
			</section>

			<!-- Custom Styling Example -->
			<section>
				<h2>Custom Styling with CSS Custom Properties</h2>
				<p>Customize the appearance using CSS custom properties.</p>

				<div class="demo-section">
					<h3>Custom Icons and Colors</h3>
					<p>
						This example uses custom emojis and colors for the
						validation icons.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;style&gt;
  .custom-styled {
    --validation-icon-matched: "✅";
    --validation-icon-unmatched: "❌";
    --validation-icon-size: 1.2em;
    --validation-matched-color: #28a745;
    --validation-unmatched-color: #dc3545;
  }
&lt;/style&gt;

&lt;form&gt;
  &lt;label for="email"&gt;Email:&lt;/label&gt;
  &lt;input type="text" id="email" name="email" required&gt;

  &lt;form-validation-list for="email" class="custom-styled"&gt;
    &lt;ul&gt;
      &lt;li data-pattern=".+@.+"&gt;Contains @ symbol&lt;/li&gt;
      &lt;li data-pattern=".+@.+\..+"&gt;Valid email format&lt;/li&gt;
      &lt;li data-pattern=".{6,}"&gt;At least 6 characters&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/form-validation-list&gt;

  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
						<div class="demo">
							<form id="form3">
								<label for="email">Email:</label>
								<input
									type="text"
									id="email"
									name="email"
									required
								/>

								<form-validation-list
									for="email"
									class="custom-styled"
								>
									<ul>
										<li data-pattern=".+@.+">
											Contains @ symbol
										</li>
										<li data-pattern=".+@.+\..+">
											Valid email format
										</li>
										<li data-pattern=".{6,}">
											At least 6 characters
										</li>
									</ul>
								</form-validation-list>

								<button type="submit">Submit</button>
								<div
									id="message3"
									class="validation-message"
									style="display: none"
								></div>
							</form>
						</div>
					</div>
				</div>
			</section>

			<!-- Customization Example -->
			<section>
				<h2>Customization Options</h2>
				<p>
					The component provides several attributes to customize its
					behavior and styling.
				</p>

				<div class="demo-section">
					<h3>Custom Trigger Event and Delay</h3>
					<p>
						Use <code>trigger-event="blur"</code> to validate only
						when the field loses focus, and
						<code>each-delay="0"</code> to remove the cascade
						animation.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;form-validation-list
  for="custom-trigger"
  trigger-event="blur"
  each-delay="0"&gt;
  &lt;ul&gt;
    &lt;li data-pattern="[A-Z]+"&gt;Capital letter&lt;/li&gt;
    &lt;li data-pattern="[a-z]+"&gt;Lowercase letter&lt;/li&gt;
    &lt;li data-pattern="[\d]+"&gt;Number&lt;/li&gt;
  &lt;/ul&gt;
&lt;/form-validation-list&gt;</code></pre>
						<div class="demo">
							<form>
								<label for="custom-trigger"
									>Try me (blur to validate):</label
								>
								<input
									type="text"
									id="custom-trigger"
									name="custom-trigger"
									required
								/>

								<form-validation-list
									for="custom-trigger"
									trigger-event="blur"
									each-delay="0"
								>
									<ul>
										<li data-pattern="[A-Z]+">
											Capital letter
										</li>
										<li data-pattern="[a-z]+">
											Lowercase letter
										</li>
										<li data-pattern="[\d]+">Number</li>
									</ul>
								</form-validation-list>

								<small
									>Validation runs on blur, no cascade
									animation</small
								>
							</form>
						</div>
					</div>
				</div>

				<div class="demo-section">
					<h3>Custom CSS Classes</h3>
					<p>
						Customize the class names applied to fields and rules
						for easier integration with CSS frameworks.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;style&gt;
  .is-valid { border-color: green; }
  .is-invalid { border-color: red; }
  .rule-pass { color: green; }
  .rule-fail { color: red; }
&lt;/style&gt;

&lt;form-validation-list
  for="custom-classes"
  field-valid-class="is-valid"
  field-invalid-class="is-invalid"
  rule-matched-class="rule-pass"
  rule-unmatched-class="rule-fail"&gt;
  &lt;ul&gt;
    &lt;li data-pattern=".{5,}"&gt;At least 5 characters&lt;/li&gt;
    &lt;li data-pattern="[!@#]+"&gt;Special char (!@#)&lt;/li&gt;
  &lt;/ul&gt;
&lt;/form-validation-list&gt;</code></pre>
						<div class="demo">
							<style>
								.is-valid {
									border-color: green;
									border-width: 2px;
								}
								.is-invalid {
									border-color: red;
									border-width: 2px;
								}
								.rule-pass {
									color: green;
									font-weight: bold;
								}
								.rule-fail {
									color: red;
									font-style: italic;
								}
							</style>
							<form>
								<label for="custom-classes"
									>Custom class names:</label
								>
								<input
									type="text"
									id="custom-classes"
									name="custom-classes"
									required
								/>

								<form-validation-list
									for="custom-classes"
									field-valid-class="is-valid"
									field-invalid-class="is-invalid"
									rule-matched-class="rule-pass"
									rule-unmatched-class="rule-fail"
								>
									<ul>
										<li data-pattern=".{5,}">
											At least 5 characters
										</li>
										<li data-pattern="[!@#]+">
											Special char (!@#)
										</li>
									</ul>
								</form-validation-list>

								<small
									>Uses custom classes: is-valid/is-invalid,
									rule-pass/rule-fail</small
								>
							</form>
						</div>
					</div>
				</div>
			</section>

			<!-- Event Listener Example -->
			<section>
				<h2>JavaScript API</h2>
				<p>
					Listening to validation events and using the programmatic
					API.
				</p>

				<div class="demo-section">
					<h3>Event-Driven Validation</h3>
					<p>
						This example shows how to listen to validation events.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;script&gt;
  const validationList = document.querySelector('#api-validation');

  validationList.addEventListener('form-validation-list:validated', (e) =&gt; {
    const { isValid, matchedRules, totalRules } = e.detail;
    console.log(`Matched ${matchedRules} of ${totalRules} rules`);
  });

  // Programmatically trigger validation
  const isValid = validationList.validate();
  console.log('Is valid:', isValid);

  // Check current state
  console.log('Current state:', validationList.isValid);
&lt;/script&gt;</code></pre>
						<div class="demo">
							<form id="form4">
								<label for="api-field">Test Field:</label>
								<input
									type="text"
									id="api-field"
									name="api-field"
									required
								/>

								<form-validation-list
									for="api-field"
									id="api-validation"
								>
									<ul>
										<li data-pattern="^[a-zA-Z]+$">
											Only letters
										</li>
										<li data-pattern=".{3,}">
											At least 3 characters
										</li>
									</ul>
								</form-validation-list>

								<button type="button" id="check-validity">
									Check Validity
								</button>
								<button type="submit">Submit</button>
								<div
									id="message4"
									class="validation-message"
									style="display: none"
								></div>
							</form>
						</div>
					</div>
				</div>
			</section>

			<!-- Internationalization Example -->
			<section>
				<h2>Internationalization (i18n)</h2>
				<p>
					The <code>validation-message</code> attribute allows you to
					customize the error message shown by the browser, including
					support for other languages.
				</p>

				<div class="demo-section">
					<h3>Spanish Validation Messages</h3>
					<p>
						Using
						<code
							>validation-message="Por favor, cumple todos los
							requisitos ({matched} de {total})"</code
						>
						displays the validation error in Spanish.
					</p>
					<div class="code-demo-pair">
						<pre><code>&lt;form&gt;
  &lt;label for="contrasena"&gt;Contraseña:&lt;/label&gt;
  &lt;input
    type="password"
    id="contrasena"
    name="contrasena"
    required&gt;

  &lt;form-validation-list
    for="contrasena"
    validation-message="Por favor, cumple todos los requisitos ({matched} de {total})"&gt;
    &lt;ul&gt;
      &lt;li data-pattern="[A-Z]+"&gt;Al menos una letra mayúscula&lt;/li&gt;
      &lt;li data-pattern="[a-z]+"&gt;Al menos una letra minúscula&lt;/li&gt;
      &lt;li data-pattern="[\d]+"&gt;Al menos un número&lt;/li&gt;
      &lt;li data-pattern="[!@#$%^&amp;*]+"&gt;Al menos un carácter especial (!@#$%^&amp;*)&lt;/li&gt;
      &lt;li data-pattern=".{8,}"&gt;Al menos 8 caracteres&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/form-validation-list&gt;

  &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;</code></pre>
						<div class="demo">
							<form id="form5">
								<label for="contrasena">Contraseña:</label>
								<input
									type="password"
									id="contrasena"
									name="contrasena"
									required
								/>

								<form-validation-list
									for="contrasena"
									validation-message="Por favor, cumple todos los requisitos ({matched} de {total})"
								>
									<ul>
										<li data-pattern="[A-Z]+">
											Al menos una letra mayúscula
										</li>
										<li data-pattern="[a-z]+">
											Al menos una letra minúscula
										</li>
										<li data-pattern="[\d]+">
											Al menos un número
										</li>
										<li data-pattern="[!@#$%^&*]+">
											Al menos un carácter especial
											(!@#$%^&*)
										</li>
										<li data-pattern=".{8,}">
											Al menos 8 caracteres
										</li>
									</ul>
								</form-validation-list>

								<button type="submit">Enviar</button>
								<div
									id="message5"
									class="validation-message"
									style="display: none"
								></div>
							</form>
						</div>
					</div>
				</div>
			</section>
		</main>

		<footer>
			<p>
				Made with ❤️ by
				<a href="https://github.com/aarongustafson">Aaron Gustafson</a>.
				View the source on
				<a href="https://github.com/aarongustafson/form-validation-list"
					>GitHub</a
				>.
			</p>
		</footer>

		<script type="module">
			import '../define.js';

			// Form 1: Username validation
			const form1 = document.getElementById('form1');
			const message1 = document.getElementById('message1');

			form1.addEventListener('submit', (e) => {
				e.preventDefault();
				const isValid = form1.checkValidity();
				message1.style.display = 'block';

				if (isValid) {
					message1.className = 'validation-message success';
					message1.textContent = '✓ Username is valid!';
				} else {
					message1.className = 'validation-message error';
					message1.textContent =
						'✗ Please meet all validation requirements.';
				}
			});

			// Form 2: Password validation
			const form2 = document.getElementById('form2');
			const message2 = document.getElementById('message2');

			form2.addEventListener('submit', (e) => {
				e.preventDefault();
				const isValid = form2.checkValidity();
				message2.style.display = 'block';

				if (isValid) {
					message2.className = 'validation-message success';
					message2.textContent = '✓ Password is strong!';
				} else {
					message2.className = 'validation-message error';
					message2.textContent =
						'✗ Please meet all validation requirements.';
				}
			});

			// Form 3: Email validation
			const form3 = document.getElementById('form3');
			const message3 = document.getElementById('message3');

			form3.addEventListener('submit', (e) => {
				e.preventDefault();
				const isValid = form3.checkValidity();
				message3.style.display = 'block';

				if (isValid) {
					message3.className = 'validation-message success';
					message3.textContent = '✓ Email is valid!';
				} else {
					message3.className = 'validation-message error';
					message3.textContent =
						'✗ Please meet all validation requirements.';
				}
			});

			// Form 4: API demonstration
			const form4 = document.getElementById('form4');
			const message4 = document.getElementById('message4');
			const validationList = document.getElementById('api-validation');
			const checkButton = document.getElementById('check-validity');

			validationList.addEventListener(
				'form-validation-list:validated',
				(e) => {
					const { isValid, matchedRules, totalRules } = e.detail;
					console.log(
						`Validation event: ${matchedRules}/${totalRules} rules matched. Valid: ${isValid}`,
					);
				},
			);

			checkButton.addEventListener('click', () => {
				const isValid = validationList.validate();
				message4.style.display = 'block';

				if (isValid) {
					message4.className = 'validation-message success';
					message4.textContent = `✓ Field is valid! (isValid property: ${validationList.isValid})`;
				} else {
					message4.className = 'validation-message error';
					message4.textContent = `✗ Field is not valid. (isValid property: ${validationList.isValid})`;
				}
			});

			form4.addEventListener('submit', (e) => {
				e.preventDefault();
				const isValid = form4.checkValidity();
				message4.style.display = 'block';

				if (isValid) {
					message4.className = 'validation-message success';
					message4.textContent = '✓ Form is valid!';
				} else {
					message4.className = 'validation-message error';
					message4.textContent =
						'✗ Please meet all validation requirements.';
				}
			});

			// Form 5: Spanish validation
			const form5 = document.getElementById('form5');
			const message5 = document.getElementById('message5');

			form5.addEventListener('submit', (e) => {
				e.preventDefault();
				const isValid = form5.checkValidity();
				message5.style.display = 'block';

				if (isValid) {
					message5.className = 'validation-message success';
					message5.textContent = '✓ ¡La contraseña es válida!';
				} else {
					message5.className = 'validation-message error';
					message5.textContent =
						'✗ Por favor, cumple todos los requisitos.';
				}
			});
		</script>
	</body>
</html>
